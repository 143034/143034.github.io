---
title: GPIO配置
date: 2020-07-17 16:40:27
tags:
- stm32
categories:
- 单片机
- stm32

---
# 输入输出模式： #

## 4种输入模式： ##
    输入浮空
    输入上拉
    输入下拉
    模拟输入
## 4种输出模式： ##
    开漏输出
    开漏复用功能
    推挽式输出
    推挽式复用功能


## 3种最大翻转速度： ##
    -2MHZ
    -10MHz
    -50MHz

## 推挽输出： ##

    可以输出强高低电平，连接数字器件 
## 开漏输出： ##
    只可以输出强低电平，高电平得靠外部电阻拉高。输出端相当于三极管的集电极. 要得到高电平状态需要上拉电阻才行. 适合于做电流型的驱动,其吸收电流的能力相对强(一般20ma以内)

## 介绍 ##
### 输入浮空模式 ###
![输入浮空](/images/单片机/stm32/输入浮空模式.png)

### 输入上拉模式 ###

![输入上拉](/images/单片机/stm32/输入上拉模式.png)


### 输入下拉模式 ###


![输入下拉](/images/单片机/stm32/输入下拉模式.png)


### 模拟输入模式 ###


![模拟输入](/images/单片机/stm32/模拟模式.png)


### 开漏输出模式 ###

![开漏输出](/images/单片机/stm32/开漏输出模式.png)


### 开漏复用输出 ###

![开漏复用](/images/单片机/stm32/开漏复用输出模式.png)


### 推挽输出模式 ###

![推挽输出](/images/单片机/stm32/推挽输出模式.png)


### 推挽复用输出模式 ###

![推挽复用](/images/单片机/stm32/推挽复用输出模式.png)
> 上电复位后，GPIO默认为浮空状态，部分特殊功能引脚为特定状态。

# 一组GPIO端口的寄存器 #

    两个32位配置寄存器(GPIOx_CRL ，GPIOx_CRH) ，
    两个32位数据寄存器 (GPIOx_IDR和GPIOx_ODR)，
    一个32位置位/ 复位寄存器(GPIOx_BSRR)，
    一个16位复位寄存器(GPIOx_BRR)，
    一个32位锁定寄存器(GPIOx_LCKR)。
## 介绍 ##

### GPIO相关配置寄存器 ###
![GPIO相关配置寄存器](/images/单片机/stm32/GPIO配置寄存器.png)

### 端口配置低寄存器GPIOx_CRL ###
![端口配置低寄存器GPIOx_CRL](/images/单片机/stm32/GPIOx_CRL.png)

### 端口配置低寄存器GPIOx_CRL配置 ###
![端口配置低寄存器GPIOx_CRL配置](/images/单片机/stm32/GPIOx_CRL配置.png)

### 端口配置高寄存器GPIOx_CRH ###
![端口配置高寄存器GPIOx_CRH](/images/单片机/stm32/GPIOx_CRH.png)

### 端口输入数据寄存器GPIOx_IDR ###
![端口输入数据寄存器GPIOx_IDR](/images/单片机/stm32/GPIOx_IDR输入数据寄存器.png)

### 端口输出数据寄存器GPIOx_ODR ###
![端口输出数据寄存器GPIOx_ODR](/images/单片机/stm32/GPIOx_ODR输出数据寄存器.png)

### 端口位设置-清除寄存器GPIOx_BSRR ###
![端口位设置-清除寄存器GPIOx_BSRR](/images/单片机/stm32/端口位设置清除寄存器GPIOx_BSRR.png)

### 端口位清除寄存器GPIOx_BRR ###
![端口位清除寄存器GPIOx_BRR](/images/单片机/stm32/端口位清除寄存器GPIOx_BRR.png)

> 每个I/O端口位可以自由编程，然而I/O端口寄存器必须按32位字被访问(不允许半字或字节访问) 。

# 端口复用功能 #
    STM32的大部分端口都具有复用功能。
    所谓复用，就是一些端口不仅仅可以做为通用IO口，还可以复用为一些外设引脚，比如PA9,PA10可以复用为STM32的串口1引脚。
    作用：最大限度的利用端口资源


# 端口重映射功能 #
    就是可以把某些功能引脚映射到其他引脚。
    比如串口1默认引脚是PA9,PA10可以通过配置重映射映射到PB6,PB7
    作用：方便布线


